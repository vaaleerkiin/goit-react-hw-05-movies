"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[736],{6345:function(e,t,r){var n=r(5861),a=r(5671),s=r(3144),i=r(4687),c=r.n(i),o=r(1243),u=function(){function e(){(0,a.Z)(this,e),this.KEY="b3b4716df5187d0bc9138efc2668bc10",this.BASE_URL="https://api.themoviedb.org/3",this.popularMovies="/trending/movie/week",this.searchMovies="/search/movie",this.detailsMovies="/movie/",this.creditsMovies="/movies/get-movie-credits",this.reviewsMovies="/movies/get-movie-reviews"}return(0,s.Z)(e,[{key:"getPopular",value:function(){var e=(0,n.Z)(c().mark((function e(){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={params:{api_key:this.KEY}},e.next=3,o.Z.get("".concat(this.BASE_URL).concat(this.popularMovies),t);case 3:return r=e.sent,e.abrupt("return",r.data.results);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDetails",value:function(){var e=(0,n.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={params:{api_key:this.KEY}},e.next=3,o.Z.get("".concat(this.BASE_URL).concat(this.detailsMovies).concat(t),r);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCast",value:function(){var e=(0,n.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={params:{api_key:this.KEY}},e.next=3,o.Z.get("".concat(this.BASE_URL).concat(this.detailsMovies).concat(t,"/credits"),r);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getReviews",value:function(){var e=(0,n.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={params:{api_key:this.KEY}},e.next=3,o.Z.get("".concat(this.BASE_URL).concat(this.detailsMovies).concat(t,"/reviews"),r);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSearch",value:function(){var e=(0,n.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={params:{api_key:this.KEY,query:t}},e.next=3,o.Z.get("".concat(this.BASE_URL).concat(this.searchMovies),r);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.Z=u},9736:function(e,t,r){r.r(t),r.d(t,{default:function(){return k}});var n,a,s=r(5861),i=r(9439),c=r(4687),o=r.n(c),u=r(2791),p=r(7689),h=r(168),d=r(6088),v=d.Z.ul(n||(n=(0,h.Z)(["\n  margin-top: 24px;\n  padding: 16px;\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: row;\n  list-style: none;\n  gap: 16px;\n  background-color: #f4a259;\n  border-radius: 5px;\n  overflow: hidden;\n"]))),f=d.Z.li(a||(a=(0,h.Z)(["\n  display: flex;\n  gap: 16px;\n  width: calc(50% - 32px);\n  img {\n    width: 100%;\n    max-width: 120px;\n    height: 100%;\n    object-fit: contain;\n  }\n"]))),l=r(8009),g=r(7966),x=r(6345),m=r(184),w=new x.Z,k=function(){var e=(0,u.useState)(""),t=(0,i.Z)(e,2),r=t[0],n=t[1],a=(0,u.useState)("idle"),c=(0,i.Z)(a,2),h=c[0],d=c[1],x=(0,u.useState)([]),k=(0,i.Z)(x,2),b=k[0],Z=k[1],y=(0,p.UO)().movieId;return(0,u.useEffect)((function(){var e=function(){var e=(0,s.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d("pending"),e.prev=1,e.next=4,w.getCast(y);case 4:t=e.sent,Z(t),d("resolved"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),d("rejected"),n(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[y]),"pending"===h?(0,m.jsx)(g.g,{}):"resolved"===h?(0,m.jsx)("div",{children:(0,m.jsx)(v,{children:b.cast&&b.cast.map((function(e){var t=e.name,r=e.id,n=e.profile_path,a=e.character;return(0,m.jsxs)(f,{children:[(0,m.jsx)("img",{src:n?"https://image.tmdb.org/t/p/w200/".concat(n,"?api_key=b3b4716df5187d0bc9138efc2668bc10"):"https://gdr.one/simg/200x300/363030/fff?text=Not%20found",alt:t}),(0,m.jsxs)("div",{children:[(0,m.jsx)("h3",{children:t}),(0,m.jsxs)("p",{children:["character: ",(0,m.jsxs)("b",{children:[" ",a]})]})]})]},r)}))})}):void("rejected"===h&&l.Am.error(r,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}))}}}]);
//# sourceMappingURL=736.6a1488f2.chunk.js.map